# melissodes-female-nesting
activity and timing of female Melissodes tepidus activity


#weather station data
Station data obtained from https://mesonet.agron.iastate.edu/request/download.phtml?network=CA_ASOS

# Investigating the Climatic Factors that Influence the Activity of the Long Horned Bee Melissodes tepida timberlakei.

# Abstract

   Native solitary bees are pollinators that help maintain the health and biodiversity of California’s native plant communities. However, there is limited research on how their behavior responds to daily weather variability. Solitary bees differ from eusocial species in that they have a short seasonal activity period, typically 1-2 months, during which they must complete foraging and nest provisioning. This period can be disrupted by unfavorable weather, reducing foraging opportunities and reproductive output. 
	This study used the solitary ground-nesting bee, Melissodes tepida timberlakei, as a model to assess responses to daily weather variation. M. tepida is active from mid-May to early July. Climatic variables, including ground temperature, ambient temperature, humidity, and cloud cover, were tested to determine their influence on foraging activity.
	Field observations were conducted over 10 days at the UC Santa Barbara Campus Lagoon, recording bee nest emergence times as a proxy for activity. Ground temperature was measured on-site while other weather data were sourced from the Muni Santa Barbara weather station via Iowa State University’s ASOS Network. Data analysis involved the use of linear-mixed effects modeling, which identified ground temperature and cloud cover as the strongest predictors of bee activity. 
	These findings highlight how daily weather conditions influence M. tepida’s activity and provide insight into how native bees may be impacted by global change. 

|Data|Description|
|:---|:---|
|bee_data.csv|Cleaned data frame of raw bee data from google sheets including columns with the parsed date under "Date", the color the bee was marked under "Bee_color", the nest number the bee emerged from under "Nest_Number", the numeric time the bee entered and exited under "Time_Entered"/"Time_Exited", the parsed time the bee entered or exited assigned either AM/PM under "Time_Entered_fixed/Time_Exited_fixed", the combined parsed dates in yy-mm-dd format with the parsed enter and exit times in 24 hour format under "Time_Entered_dt/Time_Exited_dt" (column is POSIXct class), and finally the how many minutes each bee stayed in their nest under "Duration_minutes". This data frame was created using Dr.Seltmanns fix_ampm helper function from the "clean-data-mtepidus.R" file and all rows with bee enter and exit times reported as "NA" were removed.|
|temp_data.csv|Cleaned data frame of raw ground temperature data from google sheets including columns with the parsed date in yy-mm-dd format under "Date", the numeric time the ground temperature was recorded under "Time", the recorded ground temperature in degrees fahrenheit under "ground_temperature_F", the parsed times to add AM/PM under "Time_fixed", the combined parsed dates in yy-mm-dd format with the parsed times the temperature was recorded in 24 hour format under "Time_fixed_dt" (column is POSIXct class). This data frame was created using Dr.Seltmanns fix_ampm helper function from the "clean-data-mtepidus.R".|
|bee_data_with_ground_temp.csv| Joined data using all the columns from bee_data.csv and the "ground_temperature_F column" matched by what times recorded under "Time_fixed_dt" to the closest bee exit time under "Time_Exited_dt" for each row. 
|weather-station.txt| Not a dataframe, raw weather data containing all the weather variables the weather station reports online downloaded straight from Iowa State University's ASOS Network loaded in to convert to a csv file and save as a usable dataframe.|
|new_wsd.csv| Data frame containing only the climate variables of interest from weather-station.txt. The station code name is reported under the column "station", the parsed and combined date and time (POSIXct class) corresponding to the date and time the climate variables were recorded by the weather sation under "ws_datetime", the ambient/air temperature in degrees fahrenheit under "tmpf", the relative humidity percentage under "relh", and the cloud cover category measured in oktas under "skyc1". Refer to national weather station or ISU's ASOS network for cloud cover key.|
|bee_data_for_nwsd.csv| Raw bee data set from google sheets reloaded into R studio to create this data frame in order to reclaim lost data from cleaning done in "bee_data", only rows that contained NA's under "Time Exited" were removed to capture initial emergence of the bees. The parsed date recorded for each bee is under "Date" the numeric entrance and exit times for each be are under "Time Entered/Time Exited", the parsed bee entrance and exit times with assigned am/pm under "time_en_with_ampm/time_ex_with_ampm", times recorded for bee exits were converted to 24 hour format under "time_ex_24hr", combined and parsed date and 24 hr time (POSIXct class) for bee exits under, "exit_datetime". "date_only" is a helper column meant to help combine "bee_data_for_nwsd.csv" and "ground_temp_data".|
|ground_temp_data.csv| Contains almost the exact same information as in temp_data but renamed to specify that it contains the ground temperature recordings. The parsed date in yy-mm-dd format (used to merge this data set with "bee_data_for_nwsd.csv") under "date_only", the combined parsed date and time in 24 hr format recorded for each temperature (POSIXct class) under "ground_temperature_F".|
|bee_exit_ground_temp_final.csv| The combined data sets: "bee_data_for_nwsd" and "ground_temp_data". The data set was merged based on what time recorded for ground temperature best matched a bee exit time. The parsed date from "bee_data_for_nwsd" is under "Date", the numeric entrance and exit times for the bees are under "Time Entered/Time Exited", the combined date and time a bee exited is under "bee_exit_datetime", the combined date and time a ground temperature was recorded is under "datetime_ground_temp", the ground temperature in degrees fahrenheit is under "ground_temperature_F", the difference in seconds between the time a bee exited and the nearest time a temperature was recored is under both "time_diff_secs" and "gt_time_diff_secs" (these columns contain the exact same information), finally that same difference between when the bee was recorded exiting and the time a temperature was recorded but in minutes is under "gt_time_diff_mins".|
|joined_bee_ws_gt_data.csv| This data frame combines the data from "bee_exit_ground_temp_final.csv" and the data from "new_wsd.csv". It contains all the columns from "bee_exit_ground_temp_final.csv" and all the columns from "new_wsd". All other columns created in this joined data frame that are not from the original two data frames were created for analysis tests and were not used for the projects final analysis. The time difference columns were also left out of the final analysis and thus are un-used columns.|

|Code|Description|
|:---|:---|
|Data_cleaning_reformating_script.Rmd| This script contains code to parse the dates and times in both the “bee_data.csv” and the “temp_data.csv” using the fix_am/pm helper function Dr. Seltmann created in the “clean-data-mtepidus.R” file located in the Archive. This code also deletes all rows that contain NA characters in both “Time Entered” and “Time Exited” columns.|
|merged_datasets_script.Rmd| This script merges the “bee_data.csv” and “temp_data.csv” data frames using the package “fuzzyjoin” to create the “bee_data_with_ground_temp.csv” data frame.|
|Plotting_merged_data_script.Rmd| This script was used to plot the information from “bee_data_with_ground_temp.csv”. Specifically it creates a dot plot with the x-axis representing ground temperature and the y-axis representing the number of bees exiting to observe what temperatures the bees were exiting at the most.|
|Plotting_TimevsTemp_script.Rmd| This script was used to try and plot how the temperature was changing throughout the day for all 10 days of data collection. The x-axis represents time and the y-axis represents temperature. Temperature is represented as a line and colored by the different days and bee exits were dotted on the temperature lines based on the time they were recorded to have exited their nest (interpolated to best place them on the temperature lines).|
|B_GT_WS_Data_Cleaning_script.Rmd| This script re-merges the raw bee and ground temperature data to make the “bee_exit_ground_temp_final.csv” data frame, it adds lost data that the first three scripts removed by only removing NA characters in the bee exit column to capture initial emergence times for the days. This script also prepares the merged ground temperature and bee data to merge with the weather station data.|
|BD_GTD_NWSD_merged_script.Rmd| This script merges the data from “bee_exit_ground_temp_final.csv” and “new_wsd” to make a full data set with all the climatic variable columns for analysis.| 
|bgtwsd_data_analysis_script.Rmd| This script is very messy, it contains a lot of code chunks that do different statistical analyses and create plots to visualize the merged data to understand it better. It also contain lots of code that run analyses to make models to include “time” as a predictor variable but this was not used in the final analysis used in the poster/project. The code used for the final analysis was the code to run the liner-mixed effect model in the second coding chunk and the code to create the bee density plot and the code to plot how ground temperature changes over time in the 5th code chunk. Plots used in the poster have “save to PNG” coding chunks right underneath their code.|
|bee_exits_by_hour_temp_cloudcover.pdf| This is a pdf of one of the plots created in the “bgtwsd_data_analysis_script.Rmd” to plot how ground temperature changes over time, faceted by day, colored by cloud cover category, and dots were sized by numbers of bees exited in the same hour and at certain temperatures.| 
|LGN_Bee_cleaning_and_plotting.RData| This is a saved R session to save the session where I first started working with the bee data which resulted in dataframes such as “bee_data.csv” and “temp_data.csv”.|








